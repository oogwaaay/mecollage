# MeCollage Pro 首页拼图功能重构需求理解

## 1. 核心功能概述

### 1.1 初始上传页面
- **标题**："Your photos, perfectly arranged."
- **副标题**："Simple, Professional. Support up to 20 photos."
- **上传区域**：支持拖放和点击上传
- **支持格式**：JPG, PNG, WEBP，单张最大10MB

### 1.2 布局编辑功能
- **宽高比选择**：1:1, 4:3, 16:9 等预设选项，可快速切换
- **密度控制**：滑块调节，范围从"Low"到"High"，控制图片间距
- **最大图片数量**：20张
- **智能布局**：根据图片数量和宽高比自动调整布局
- **空位置显示**：未填充图片的位置显示虚线框和加号按钮
- **实时调整**：所有布局调整即时生效

### 1.3 滤镜功能
- **滤镜类型**：NONE, NOIR, RETRO, FADE, GLOW, COOL
- **应用范围**：一键应用到所有图片
- **实时预览**：滤镜效果即时显示

### 1.4 文字功能
- **添加文字**：点击"Add Text"按钮，画布上出现默认文字
- **编辑文字**：双击画布上的文字，进入编辑模式
- **文字提示**：文字添加后显示"Double click to edit"提示
- **文字移动**：支持拖拽文字调整位置
- **文字样式**：支持基本样式设置
- **文字删除**：选中文字后可删除

### 1.5 图片管理
- **单个图片删除**：每张图片右上角有删除按钮，鼠标悬停时显示
- **图片重新排序**：支持拖拽重排，实时更新布局
- **图片数量显示**：底部中央显示当前/最大图片数量（如 "2 / 20 PHOTOS"）
- **添加更多图片**：点击空位置的加号按钮可上传新图片
- **图片样式**：所有图片统一应用圆角效果
- **滤镜应用**：支持一键应用滤镜到所有图片

## 2. 交互流程

1. **初始状态**：显示上传页面，提示用户上传图片
2. **图片上传**：用户拖放或点击上传图片
3. **进入编辑模式**：上传后自动进入编辑界面
4. **布局调整**：选择宽高比和密度
5. **添加/管理图片**：点击添加按钮或拖拽上传更多图片
6. **应用滤镜**：选择喜欢的滤镜效果
7. **添加文字**：点击添加文字按钮，双击编辑文字内容
8. **导出图片**：点击右上角"Export Image"按钮下载拼图

## 3. 界面布局

### 3.1 整体布局
- **顶部**：左侧显示应用名称 "MeCollage Pro"，右侧显示蓝色 "Export Image" 导出按钮
- **左侧**：功能面板，根据选中的选项卡显示不同内容
- **中央**：画布区域，显示拼图效果，背景为白色
- **底部**：功能选项卡切换栏

### 3.2 底部功能选项卡
- **布局选项卡**：图标为网格状，选中时高亮
- **滤镜选项卡**：图标为漏斗状，选中时高亮
- **文字选项卡**：图标为 "T" 形，选中时高亮
- **贴纸选项卡**：图标为表情符号，选中时高亮

### 3.3 左侧功能面板
- **布局面板**：
  - 宽高比选择按钮组（如 "1:1", "4:3"）
  - 密度滑块，带 "Low" 和 "High" 标签
- **滤镜面板**：
  - 6个滤镜按钮（NONE, NOIR, RETRO, FADE, GLOW, COOL）
  - 当前选中滤镜高亮显示，有蓝色边框
- **文字面板**：
  - 蓝色 "Add Text" 按钮
  - 提示文字 "DOUBLE CLICK TEXT ON CANVAS TO MODIFY CONTENT"
- **贴纸面板**：
  - 表情贴纸选择区域

### 3.4 画布区域
- **图片显示**：所有图片统一应用圆角效果
- **空位置**：显示虚线框和中央加号按钮
- **文字显示**：可编辑文字，支持双击编辑
- **视觉反馈**：操作时实时更新显示

## 4. 交互细节

### 4.1 布局调整
- **宽高比切换**：点击宽高比按钮，画布立即调整大小和布局
- **密度调节**：拖动密度滑块，图片间距实时变化
- **响应式布局**：布局自动适应画布大小和图片数量

### 4.2 滤镜应用
- **一键应用**：点击滤镜按钮，所有图片立即应用该滤镜效果
- **滤镜高亮**：当前选中的滤镜按钮有蓝色边框高亮显示
- **实时预览**：滤镜效果即时显示在画布上
- **无滤镜选项**：点击"NONE"滤镜可移除所有滤镜效果

### 4.3 文字编辑
- **添加文字**：点击"Add Text"按钮，画布中央出现默认文字
- **编辑提示**：新添加的文字显示"Double click to edit"提示
- **双击编辑**：双击文字进入编辑模式，可直接输入内容
- **文字拖拽**：可拖动文字到画布任意位置
- **实时更新**：文字内容和样式调整实时显示

### 4.4 图片管理
- **单图删除**：每张图片右上角有删除按钮，鼠标悬停时显示
- **拖拽重排**：支持拖拽图片到其他位置，实时更新布局
- **添加图片**：点击空位置的加号按钮可上传新图片
- **图片计数**：底部实时显示当前图片数量/最大数量（如 "2 / 20 PHOTOS"）

### 4.5 导出功能
- **导出按钮**：右上角蓝色"Export Image"按钮，始终可见
- **导出流程**：点击后下载生成的拼图图片

## 5. 视觉反馈

- **实时更新**：所有操作即时反映在画布上
- **状态提示**：底部显示图片数量，明确当前进度
- **悬停效果**：按钮、图片悬停时有明显视觉反馈
- **选中状态**：
  - 功能选项卡选中时高亮
  - 滤镜按钮选中时有蓝色边框
  - 文字编辑时显示编辑状态
- **空状态**：未填充图片位置显示虚线框和加号，提示用户添加
- **操作引导**：关键操作有明确提示文字

## 6. 设计规范

### 6.1 颜色方案
- **主色调**：蓝色，用于按钮、高亮和强调
- **背景色**：白色，用于画布和界面背景
- **文字色**：黑色，用于主要文字
- **辅助色**：灰色，用于次要文字和边框

### 6.2 按钮样式
- **主按钮**：蓝色背景，白色文字
- **次要按钮**：白色背景，灰色边框
- **选中按钮**：蓝色边框高亮

### 6.3 图片样式
- **统一圆角**：所有图片应用相同圆角
- **一致大小**：同一行/列图片大小统一
- **均匀间距**：图片间距由密度滑块控制

### 6.4 字体规范
- **标题**：粗体，较大字号
- **正文**：常规字重，中等字号
- **提示文字**：灰色，较小字号

## 6. 技术要求

- **响应式设计**：适配不同屏幕尺寸
- **实时预览**：所有调整即时显示效果
- **性能优化**：支持20张图片的流畅编辑
- **导出质量**：高质量图片导出

我已经查看了当前首页的代码，了解了现有拼图功能模块的结构和实现。它包括：
- 一个完整的侧边栏，包含上传、模板、装饰、滤镜、自定义网格和导出等功能
- 中央画布区域，用于显示和编辑拼图
- 右侧图片面板，用于管理上传的图片
- 移动端的快速导航

将根据上述需求进行严格的功能与交互重构。